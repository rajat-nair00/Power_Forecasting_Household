{% extends 'Base.html' %}
{% block title %}Predict{% endblock %}

{% block content %}
<h2>Power Load Forecast</h2>

<form method="get" action="{% url 'result' %}">
    {% csrf_token %}
    <!-- Automatically use the logged-in user's state -->
    <input type="hidden" name="state" value="{{ request.session.state }}">

    <label><strong>Choose Forecast Type:</strong></label><br>
    <input type="radio" name="forecast_type" value="today" id="today" checked>
    <label for="today">Today</label><br>
    <input type="radio" name="forecast_type" value="future" id="future">
    <label for="future">Future</label><br><br>

    <div id="datetime-fields">
        <input type="number" name="year" placeholder="Year"><br><br>
        <input type="number" name="month" placeholder="Month"><br><br>
        <input type="number" name="day" placeholder="Day"><br><br>
    </div>

    <button type="submit">Predict</button>
</form>

<script>
    const forecastToday = document.getElementById('today');
    const forecastFuture = document.getElementById('future');
    const datetimeFields = document.getElementById('datetime-fields');

    function toggleDateTimeInputs() {
        datetimeFields.style.display = forecastFuture.checked ? 'block' : 'none';
    }

    forecastToday.addEventListener('change', toggleDateTimeInputs);
    forecastFuture.addEventListener('change', toggleDateTimeInputs);

    // Initial setup
    toggleDateTimeInputs();
</script>
{% endblock %}

{% comment %} {% extends 'base.html' %}
{% block title %}Predict{% endblock %}

{% block content %}
<h2>Power Load Forecast</h2>

<form method="get" action="{% url 'result' %}">
    <label for="district"><strong>Select District:</strong></label><br>
    <select name="district" id="district" required>
        <option value="" disabled selected>-- Choose a District --</option>
        <option value="Thiruvananthapuram">Thiruvananthapuram</option>
        <option value="Kollam">Kollam</option>
        <option value="Alappuzha">Alappuzha</option>
        <option value="Pathanamthitta">Pathanamthitta</option>
        <option value="Idukki">Idukki</option>
    </select><br><br>

    <label><strong>Choose Forecast Type:</strong></label><br>
    <input type="radio" name="forecast_type" value="today" id="today" checked>
    <label for="today">Today</label><br>
    <input type="radio" name="forecast_type" value="future" id="future">
    <label for="future">Future</label><br><br>

    <div id="datetime-fields">
        <input type="number" name="year" placeholder="Year"><br><br>
        <input type="number" name="month" placeholder="Month"><br><br>
        <input type="number" name="day" placeholder="Day"><br><br>
    </div>

    <button type="submit">Predict</button>
</form>

<script>
    const forecastToday = document.getElementById('today');
    const forecastFuture = document.getElementById('future');
    const datetimeFields = document.getElementById('datetime-fields');

    function toggleDateTimeInputs() {
        datetimeFields.style.display = forecastFuture.checked ? 'block' : 'none';
    }

    forecastToday.addEventListener('change', toggleDateTimeInputs);
    forecastFuture.addEventListener('change', toggleDateTimeInputs);

    // Initial setup
    toggleDateTimeInputs();
</script>
{% endblock %} {% endcomment %}

